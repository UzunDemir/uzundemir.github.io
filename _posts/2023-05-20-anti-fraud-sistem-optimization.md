---
layout: post
title:  "Оптимизация банковских антифродовых систем путем снижения количества ложных срабатываний с использованием индукции правил в распределенных деревьях решений."
---

![uzun_antifraud](https://github.com/user-attachments/assets/58469d03-7de1-465f-b67b-d020d8189480)

### Аннотация  
Системы обнаружения мошенничества в банковских платежных операциях страдают от большого количества ложных срабатываний. Для решения этой проблемы мы предлагаем фреймворк генерации правил для антифродовой системы — автоматическое создание правил с использованием распределенных древовидных ML-алгоритмов (машинного обучения), таких как дерево решений, случайный лес и градиентный бустинг, где компоненты экспертных правил используются в качестве признаков для модели. Этот подход сочетает статистические и экспертные методы. Мы применяем его к данным банковских карточных транзакций. Наш набор данных охватывает февраль 2021 года и состоит из более чем 20 млн записей, включая информацию о клиентах, транзакциях и мерчантах. Автоматически сгенерированные правила были направлены на улучшение бизнес-метрики FPR (уровень ложных срабатываний). Фреймворк тестировался в реальной системе мониторинга мошенничества крупного банка в течение полугода. Полученные правила показали удовлетворительную эффективность и оказали ощутимый бизнес-эффект.  

### 1. Введение  
#### 1.1. Мотивация исследования  
С развитием финтеха и электронной коммерции все больше банковских платежей и переводов осуществляется через онлайн-каналы, которые быстрее, удобнее и безопаснее для здоровья в эпоху коронавируса. Согласно глобальному исследованию Mastercard за 2020 год, 8 из 10 пользователей Mastercard по всему миру используют бесконтактные методы оплаты.  

Данные о проведенных транзакциях накапливаются в базах банков, платформ электронной коммерции и других игроков индустрии. В 2017 году пропускная способность обработки платежей Visa достигала 75 000 транзакций в секунду (Zeng, 2018). Правильное использование этих данных позволяет компаниям улучшить операционную эффективность и клиентский опыт. Однако такой объем данных невозможно обрабатывать вручную, поэтому компании вынуждены строить инфраструктуру Big Data и применять алгоритмы машинного обучения (ML).  

Разработка механизмов защиты клиентских средств от мошенников является частью стратегии банков и компаний электронной коммерции по улучшению клиентского опыта. По мере перехода платежей в онлайн, мошенники также адаптировались, что выдвинуло на первый план проблемы защиты средств в цифровых каналах. Согласно SmartMetric, в 2018 году глобальные потери от платежного мошенничества превысили $24 млрд.  

Несмотря на сложности в обнаружении мошенничества (обусловленные имитацией мошенниками поведения обычных клиентов и использованием методов социальной инженерии), системы фрод-мониторинга крупных компаний позволяют выявлять и предотвращать до 98% случаев мошенничества (Carminati et al., 2015). С точки зрения ML-метрик это означает достижение высокой полноты (recall).  

Сегодня на первый план выходит проблема большого количества ложных срабатываний (FP), что указывает на низкую точность (precision) или высокий уровень ложных срабатываний (FPR). В среднем, только 1 из 5 заблокированных транзакций является мошеннической, а каждый 6-й клиент ошибочно блокируется в течение года (Wedge et al., 2019).  

Ложные срабатывания приводят к финансовым потерям компаний на расследование случаев и связь с клиентом, увеличению нагрузки на колл-центры, а также к потере revenue из-за отклоненных транзакций. Если рассматривать одну из возможных стратегий реагирования — звонок клиенту — стоимость обработки одной заблокированной транзакции составляет от 1,5 евро (по данным банка, предоставившего данные для исследования) до 5 евро (Европейский центральный банк, (Baesens et al., 2021b)).  

---

**Что касается игроков индустрии электронной коммерции**, согласно глобальному исследованию Merchant Risk Council за 2017 год[3, онлайн-ритейлеры в среднем отклоняют 2,6% заказов, причем как минимум 10% из них следовало бы одобрить. По данным Riskified, ложные срабатывания в этом случае приводят к потере 6% выручки.

Кроме того, чем требовательнее клиенты к качеству сервиса, тем сильнее ложные срабатывания подрывают репутацию компании и снижают лояльность клиентов. Согласно Javelin Strategy, 61% пользователей, столкнувшихся с ошибочной блокировкой транзакции, сократили использование карты или полностью отказались от неё.

#### 1.2. Цель исследования  
Данная работа направлена на поиск подхода для улучшения ключевых метрик эффективности банковских систем обнаружения мошенничества:  
1) **Fraud Basis Point (FBP)** — доля мошеннических транзакций, не заблокированных системой;  
2) **False Positive Rate (FPR)** — доля ложных срабатываний среди всех тревог.  

Основное внимание уделено метрике FPR. Мы предлагаем метод её снижения без ухудшения показателя FBP.  

#### 1.3. Данные и методы  
Мы разрабатываем решение, сочетающее экспертный и статистический подходы к обнаружению мошенничества. Алгоритм должен:  
- Сохранять интерпретируемость;  
- Улучшать бизнес-метрики;  
- Легко интегрироваться в существующие системы.  

Используются методы **индукции правил** на основе древовидных ML-алгоритмов, где признаки модели включают компоненты экспертных правил. Данные содержат:  
- Характеристики транзакций и клиентов;  
- Набор экспертных правил для принятия решений.  

#### 1.4. Определение мошенничества  
Под мошенничеством понимается кража денег у клиента с использованием:  
- **Социальной инженерии** (когда клиент добровольно совершает действия под влиянием обмана);  
- Других методов (без участия клиента).  

Согласно (Baesens et al., 2015), мошенничество имеет особенности:  
- Редкость по сравнению с легитимными операциями;  
- Организованность и продуманность;  
- Маскировка под нормальное поведение;  
- Динамичность схем;  
- Возможность групповых действий.  

#### 1.5. Новизна и практическое применение  
**Научный вклад:**  
- Комбинация экспертных и ML-подходов, где признаки модели выводятся из экспертных алгоритмов;  
- Обсуждение практических аспектов работы антифродовых систем (с учетом стоимости ошибок).  

**Практическая ценность:**  
- Результаты представлены в виде **правил**, легко внедряемых в существующие системы;  
- Метод применим для банков, платежных систем, e-commerce, страховых компаний и других организаций, использующих Big Data для автоматизации решений.  

Также предложены:  
- Методика оценки алгоритма в реальном времени;  
- Анализ чистого бизнес-эффекта с учетом текущих показателей точности.  

#### 1.6. Результаты  
Тестирование фреймворка в банке показало:  
- **Точность (precision):** 50% на тестовых данных (10% в реальной работе);  
- **Полнота (recall):** 0,6% на тестовых данных.  

Лучшие правила были интегрированы в антифродовую систему, но требуют доработки.  

